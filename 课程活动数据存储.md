# 数据存储

```java
 --UserFiles
    	--八班
    		--八班的对象的序列化文件
    		--小明
    			--小明对象的序列化文件
    			--小明的作业，资料的压缩文件
    		--小亮
    			--小亮对象的序列化文件
    			--小亮的作业，资料的压缩文件
    	--九班
    		--九班的对象的序列化文件
     

```

具体的数据继承关系在HYH.Information文件夹下

Information类被Course,Activity,Homework,Book（资料）,Exam类继承

User(HYH.Information下的用户类）包含RealClass(班级类)，RealClass包含课程，作业，资料，考试排好的数组/链表/合适的存储结构，User和RealClass还有周期表和非周期表用于冲突检测和打印课表

LinkElement就是为了解决Course的一堆时间无法和周期表格式匹配的问题

冲突检测按如下规则

- 时间

- 冲突定义

  - 要添加的元素记为a，a加入的表记为B，表里的元素记为b

  - a和b比较时

    if(a的开始时间和结束时间<b的开始时间 || a的开始时间和结束时间>b的结束时间) 没有冲突，和下一个b比较

    else {

    ​	if(若a的优先度>b的优先度) 删除b，下一个b比较

    ​	else 冲突

    }

    

- 优先度

  - RealClass的周期表>RealClass的非周期表>User的周期表=User的非周期表
  - 添加元素时，要和所有大于等于自己优先度的表进行比较，在周期表添加元素时还要和非周期表比较
  - 用户登录后User的周期表和非周期表每个元素都要进行冲突检测，冲突就删除自己并打印提醒（可以设个标记，在RealClass一修改就改了这个标记，提醒User去修改，就不用每次登录都去修改）

  - 举个例子：

    在RealClass的非周期表中添加元素，不仅要和自己这个表比较，还要和RealClass的周期表的元素比较（其实Calendar类能提供给你特定日期是周几，只要比对周期表里那一天的课就行